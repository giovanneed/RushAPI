negativa = x - y + (n-1)



Onde:
vetRainhas = Vetor que contém a posição das rainhas
diagPos = Diagonal Positiva
diagNeg = Diagonal Negativa
posRainha = Posição da rainha que deseja verificar
numRainhas = Quantidade de rainhas


Quantidade de ataques na diagonal Positiva (tem que subtrair um porque é a rainha que você está verificando)

Indice a ser acessado no vetor positivo = X + Y
Indice a ser acessado no vetor positivo = posRainha + vetRainhas[posRainha]
Quantidade de rainhas na fileira positiva = diagPos[posRainha + vetRainhas[posRainha]]
Quantidade de rainhas Atacando na fileira positiva = diagPos[posRainha + vetRainhas[posRainha]] - 1

Quantidade de ataques na diagonal Negativa (tem que subtrair um porque é a rainha que você está verificando)

Indice a ser acessado no vetor positivo = Y - X + N - 1
Indice a ser acessado no vetor positivo = vetRainhas[posRainha] - posRainha + numRainhas - 1
Quantidade de rainhas na fileira positiva =  diagNeg[vetRainhas[posRainha] - posRainha + numRainhas - 1]
Quantidade de rainhas Atacando na fileira positiva =  diagNeg[vetRainhas[posRainha] - posRainha + numRainhas - 1] - 1


Se você somar o resultado do conteúdo dos vetores na posição acima você vai achar o número de rainhas que colidem com a sua.

Aí você tem que fazer isso para as duas rainhas antes de testar a swap e fazer denovo depois para ver se compensa, aí só faz a troca de o valor for diminuir.